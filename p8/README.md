
Завдання 8.1

 Чи може виклик count = write(fd, buffer, nbytes); повернути в змінній count значення, відмінне від nbytes? Якщо так, то чому? Наведіть робочий приклад програми, яка демонструє вашу відповідь.
Виклик count = write(fd , buffer , nbytes) може повернути значення менше ніж nbytes , якщо буфер ядра має недостатньо місця або запис у файл відбувається через мережу або пристрій де передача фрагментована.

Програма намагається записати багато даних у спеціальний канал (pipe), який має обмежену кількість місця, і якщо це місце закінчується, запис відбувається не повністю — write() повертає лише ту кількість байт, яка реально вмістилась. 

Завдання 8.2

 Є файл, дескриптор якого — fd. Файл містить таку послідовність байтів: 4, 5, 2, 2, 3, 3, 7, 9, 1, 5. У програмі виконується наступна послідовність системних викликів:
lseek(fd, 3, SEEK_SET);
read(fd, &buffer, 4);
де виклик lseek переміщує покажчик на третій байт файлу. Що буде містити буфер після завершення виклику read? Наведіть робочий приклад програми, яка демонструє вашу відповідь.
Буфер буде містити 2, 3, 3, 7 


Завдання 8.3

 Бібліотечна функція qsort призначена для сортування даних будь-якого типу. Для її роботи необхідно підготувати функцію порівняння, яка викликається з qsort кожного разу, коли потрібно порівняти два значення.
 Оскільки значення можуть мати будь-який тип, у функцію порівняння передаються два вказівники типу void* на елементи, що порівнюються.
Напишіть програму, яка досліджує, які вхідні дані є найгіршими для алгоритму швидкого сортування. Спробуйте знайти кілька масивів даних, які змушують qsort працювати якнайповільніше. Автоматизуйте процес експериментування так, щоб підбір і аналіз вхідних даних виконувалися самостійно.
Придумайте і реалізуйте набір тестів для перевірки правильності функції qsort.


Завдання 8.4

 Виконайте наступну програму на мові програмування С:
int main() {
  int pid;
  pid = fork();
  printf("%d\n", pid);}
Завершіть цю програму. Припускаючи, що виклик fork() був успішним, яким може бути результат виконання цієї програми?

10. Побудуйте таблицю з часами виконання qsort() для різних схем вхідних даних і поясніть сплески в часі.

	Sorted	Вже відсортований	0.180	
	Reversed	У зворотному порядку	0.190	
	Random	Випадкові числа	0.045	
	All Equal	Всі елементи однакові	0.015	
	Zigzag	Малий–великий чергування	0.110	
	Half Sorted	Перша половина відсорт.	0.130	

				

